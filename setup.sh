#!/bin/sh

# This script serves as a series commands to run within Kali Linux to prepare
# my pent-testing workflow.

# Usage:

# sudo chmod +x setup.sh
# sudo ./setup.sh

# 1. Install python-nmap without having access to the pip install domain
tar xvzf python-nmap-0.7.1.tar.gz
cd python-nmap-0.7.1
python setup.py install
cd ..

# 2. Install nmap script for mapping service signatures to CVEs
git clone https://github.com/scipag/vulscan scipag_vulscan
ln -s `pwd`/scipag_vulscan /usr/share/nmap/scripts/vulscan

# 3. Install Jupyter to better navigate vulnerability data

# Note: Because of of limited domain access on
# Proving Grounds, we need to do an offline install.

# Offline install guide (on the user's local PC with network access):
# - Setup and activate a venv:
# > python -m venv .venv
# - Install desired packages
# > pip freeze -l > requirements.txt
# > mkdir wheelhouse
# > pip download -r requirements.txt -d wheelhouse

cp requirements.txt wheelhouse/requirements.txt
pip install -r wheelhouse/requirements.txt --no-index --find-links wheelhouse
