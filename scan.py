import sys
import nmap

if len(sys.argv) > 1:
    target_ip = sys.argv[1]
    print(f'Scanning target IP: {target_ip}')
else:
    print('Must supply target IP, like: ./scan.py 10.0.0.1')


nm = nmap.PortScanner()
nm.scan(hosts=target_ip, arguments='-sV --script=vulscan/vulscan.nse --version-intensity=9')
print('command:', nm.command_line())

print('\n vars(nm):', vars(nm))
print('\n nm.scan:', nm.scan)
print('\n nm.scan():', nm.scan())
print('\n nm.scaninfo:', nm.scaninfo)
print('\n nm.scaninfo():', nm.scaninfo())
print('\n nm.analyse_nmap_xml_scan:', nm.analyse_nmap_xml_scan)
print('\n nm.analyse_nmap_xml_scan():', nm.analyse_nmap_xml_scan())
#print('\nvars _scan_result:', vars(nm['_scan_result']))
#print('\n scan:', nm['scan'])

print('\n dir:', dir(nm))
